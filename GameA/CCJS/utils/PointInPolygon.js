define(function(l,g){function j(b,a){var c=b,d=a;b>a&&(c=a,d=b);return{min:c,max:d}}function k(b,a,c){var d=j(a[0],c[0]),e=j(a[1],c[1]);if(b[1]<e.min||b[1]>e.max||b[0]<d.min)return 0;if(1E-4>=Math.abs(e.min-e.max))return b[0]>=d.min&&b[0]<=d.max?-1:0;a=a[0]+(b[1]-a[1])*(c[0]-a[0])/(c[1]-a[1]);return a>b[0]?0:1E-4>=Math.abs(a-b[0])?-1:1E-4>=Math.abs(b[1]-e.min)?0:1}var f;g.getBBox=function(b){var a={left:0,right:0,top:0,bottom:0};a.left=a.right=b[0][0];a.top=a.bottom=b[0][1];for(var c=0,d=b.length;c<
d;c++)b[c][0]<a.left&&(a.left=b[c][0]),b[c][1]<a.bottom&&(a.bottom=b[c][1]),b[c][0]>a.right&&(a.right=b[c][0]),b[c][1]>a.top&&(a.top=b[c][1]);return a};g.pointInPolygon=function(b,a){f||(f=g.getBBox(a));var c;c=b[0]>=f.left&&b[0]<=f.right&&b[1]>=f.bottom&&b[1]<f.top?!0:!1;if(!c)return 0;for(var d=c=0,e=a.length;d<e;d++){var h;h=d==e-1?k(b,a[d],a[0]):k(b,a[d],a[d+1]);if(0>h)return 2;c+=h}return c&1}});
