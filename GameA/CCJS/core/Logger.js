define(function(e,s,h){function j(a){try{throw Error();}catch(b){if(b.stack)return b.stack.split("\n")[a].replace(/^\s*/,"")}}function g(a,d,f){var c=b.layout;d<=f.level&&(b._isNeedP&&(c=c.replace(/%p/i,m[d])),b._isNeedM&&(c=c.replace(/%m/i,n.call(a,", "))),b._isNeedC&&(c=c.replace(/%c(:?{\d*})?/i,f.__c)),b._isNeedR&&(a=Date.now(),c=c.replace(/%r/i,p(1E3*(a-k))),k=a),b._isNeedL&&(c=c.replace(/%l/i,j(4).match(/:(\d+)/)[1])),q(c))}function l(){var a,d,f;this.config={};d=b.filter;f=b.ignore;a=j(4).replace(/^.*(\s|\()(\w+:\/)/,
"$2").replace(/:\d+/g,"");if(b._isNeedC){var c=a.match("^.*((/[^/:]+){"+b._isNeedC+"})$");this.config.__c=c?c[1].replace(/\//,""):a}if(d&&!RegExp(d).test(a)||f&&RegExp(f).test(a))this.error=this.warn=this.info=this.debug=function(){};this.config.level=r[b.level.toLocaleLowerCase()]}e={};var b={level:"debug",filter:"",ignore:"",layout:"%p : %m"},r={off:0,error:1,warn:2,info:3,debug:4},m=[" OFF ","ERROR","WARN ","INFO ","DEBUG"],q=this.print,n=Array.prototype.join,k=Date.now();h&&h.exports?h.exports=
e:this.Logger=e;var p=Math.round;l.prototype={error:function(){g(arguments,1,this.config)},warn:function(){g(arguments,2,this.config)},info:function(){g(arguments,3,this.config)},debug:function(){g(arguments,4,this.config)}};e.getLog=function(){return new l};e.config=function(a){for(var d in a){var f=b[d];if("object"===typeof f){var c=a[d],e=void 0;for(e in c)f[e]=c[e]}else b[d]=a[d]}a=b.layout;if(d=a.match(/%c({(\d+)})?/i))b._isNeedC=d[2]||1;/%p/i.test(a)&&(b._isNeedP=!0);/%l/i.test(a)&&(b._isNeedL=
!0);/%m/i.test(a)&&(b._isNeedM=!0);/%r/i.test(a)&&(b._isNeedR=!0);return this}});
